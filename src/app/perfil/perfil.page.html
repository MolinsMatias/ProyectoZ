<ion-header [translucent]="true">
</ion-header>

<ion-content [fullscreen]="true">
    <link rel="stylesheet" href="perfil.page.scss">

    <body style="display:flex; align-items:center; justify-content:center;">
        <div class="login-page">
            <div class="form">
                <h2 style="font-size: 20px; color: aqua;">Perfil de {{ usuarioService.usuario.nombre }}</h2>

                <form *ngIf="isEditing" (ngSubmit)="onSubmit()" #usuarioForm="ngForm">
                    <div>
                        <p class="message" style="color: #ffffff; font-size: 15px">Foto</p>
                        <ion-input type="text" [(ngModel)]="usuarioService.usuario.imagen" name="imagen" required></ion-input>
                    </div>
                    <div>
                        <p class="message" style="color: #ffffff; font-size: 15px">Nombre</p>
                        <ion-input type="text" [(ngModel)]="usuarioService.usuario.nombre" name="nombre" required></ion-input>
                    </div>
                    <div>
                        <p class="message" style="color: #ffffff; font-size: 15px">Apellido</p>
                        <ion-input type="text" [(ngModel)]="usuarioService.usuario.apellido" name="apellido" required></ion-input>
                    </div>
                    <div>
                        <p class="message" style="color: #ffffff; font-size: 15px">Raza</p>
                        <ion-select [(ngModel)]="usuarioService.usuario.raza" name="raza" placeholder="Selecciona una opción"
                            fill="solid" style="color: white;">
                            <ion-select-option *ngFor="let option of usuarioService.raza" [value]="option.nombre">{{ option.nombre
                                }}</ion-select-option>
                        </ion-select>

                    </div>
                    <ion-button fill="clear" class="btn" type="submit">
                        Guardar
                    </ion-button>
                    <ion-button fill="clear" class="btn" (click)="isEditing = false">Cancelar</ion-button>
                </form>

                <div *ngIf="!isEditing">
                    <p class="message" style="color: #ffffff; font-size: 15px">Foto</p>
                    <div  class="image-container">
                        <img [src]="usuarioService.usuario.imagen">
                        <p  class="menssage"style="color: #ffffff;" *ngIf="!usuarioService.usuario.imagen">No hay imagen disponible</p>
                    </div>
                    <div >
                        <p class="message" style="color: #ffffff; font-size: 15px">Nombre y Apellido</p>
                        <a class="btn2">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            {{ usuarioService.usuario.nombre }} {{ usuarioService.usuario.apellido }}
                        </a>
                    </div>
                    <div>
                        <p class="message" style="color: #ffffff; font-size: 15px;">Raza</p>
                        <a class="btn2">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            {{ usuarioService.usuario.raza }}
                        </a>
                    </div>
                    <div>
                        <p class="message" style="color: #ffffff; font-size: 15px;">Email</p>
                        <a class="btn2">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            {{ usuarioService.usuario.email }}
                        </a>
                    </div>

                    <div>
                        <a class="btn2" (click)="isEditing = true">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            Editar
                        </a>
                    </div>

                    <div>
                        <a class="btn2" (click)="logout()">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            Cerrar sesión
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <canvas id="rainfall"></canvas>
    </body>
</ion-content>